<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bandhan Bank - CHMS Prototype</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bandhan-blue: #00529b;
            --bandhan-red: #ed1c24;
        }
        .bg-bandhan-blue { background-color: var(--bandhan-blue); }
        .text-bandhan-blue { color: var(--bandhan-blue); }
        .border-bandhan-red { border-color: var(--bandhan-red); }
        .terminal { background-color: #1e1e1e; color: #00ff00; font-family: 'Courier New', Courier, monospace; }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <nav class="bg-white shadow-md border-b-4 border-bandhan-red sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <div class="flex flex-col">
                    <span class="text-2xl font-bold text-bandhan-blue tracking-tighter">Bandhan <span class="text-red-600">Bank</span></span>
                    <span class="text-[10px] uppercase tracking-widest text-gray-500">Campus Hiring Transformation</span>
                </div>
            </div>
            <div class="hidden md:flex space-x-8 font-medium">
                <button onclick="showTab('candidate')" class="hover:text-bandhan-blue">Candidate Portal</button>
                <button onclick="showTab('recruiter')" class="hover:text-bandhan-blue">Recruiter Dashboard</button>
                <button onclick="showTab('analytics')" class="hover:text-bandhan-blue">Campus Analytics</button>
            </div>
            <div class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-bold">RBI Compliance Mode: ON</div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-6">

        <div id="candidate-tab" class="tab-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800">Graduate Application Form</h2>
                    <form id="applyForm" onsubmit="processApplication(event)" class="space-y-4">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700">Full Name (As per Aadhaar)</label>
                            <input type="text" id="name" required class="w-full p-2 border rounded mt-1 focus:ring-2 focus:ring-blue-500 outline-none">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700">CGPA</label>
                                <input type="number" id="cgpa" step="0.1" required class="w-full p-2 border rounded mt-1">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700">Year of Graduation</label>
                                <input type="number" id="year" value="2026" class="w-full p-2 border rounded mt-1">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-gray-700">Upload Resume (PDF)</label>
                            <input type="file" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                        </div>
                        <div class="p-3 bg-gray-50 rounded border text-xs text-gray-600">
                            <input type="checkbox" required> I consent to Bandhan Bank processing my PII data under DPDP Act 2023 for recruitment purposes.
                        </div>
                        <button type="submit" class="w-full bg-bandhan-blue text-white font-bold py-3 rounded-lg hover:opacity-90 transition">Submit Application</button>
                    </form>
                </div>

                <div class="flex flex-col">
                    <h3 class="font-bold text-gray-700 mb-2 flex items-center">
                        <span class="mr-2">⚡</span> Real-time Backend Simulation (RBI Compliance Engine)
                    </h3>
                    <div id="terminal" class="terminal p-4 rounded-lg flex-grow min-h-[400px] text-sm overflow-y-auto shadow-inner">
                        > System Idle... Awaiting application.
                    </div>
                </div>
            </div>
        </div>

        <div id="recruiter-tab" class="tab-content hidden">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Interview Scheduling Matrix</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="p-3">Candidate</th>
                                <th class="p-3">Status</th>
                                <th class="p-3">Compliance Check</th>
                                <th class="p-3">Action</th>
                            </tr>
                        </thead>
                        <tbody id="candidateTable">
                            <tr>
                                <td class="p-3">Amit Sharma (IIT-K)</td>
                                <td class="p-3"><span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Shortlisted</span></td>
                                <td class="p-3 text-xs text-blue-600 font-mono">KYC_PASSED_204</td>
                                <td class="p-3"><button class="text-bandhan-blue font-bold">Schedule Slot</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="analytics-tab" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="font-bold mb-4">Hiring Funnel (Live)</h3>
                    <canvas id="funnelChart"></canvas>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="font-bold mb-4">Campus ROI - Predictive Attrition</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span>IIT Kharagpur</span>
                            <span class="text-green-600 font-bold">Low Risk (8%)</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 92%"></div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Regional College A</span>
                            <span class="text-red-600 font-bold">High Risk (45%)</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-red-500 h-2 rounded-full" style="width: 55%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="mt-12 p-8 bg-gray-900 text-white text-center text-sm">
        <p>© 2026 Bandhan Bank Limited. Internal CHMS Prototype.</p>
        <p class="text-gray-500 mt-2">Data stored on Local Bank Servers (Kolkata/Mumbai) in compliance with RBI Clause 2.4.</p>
    </footer>

    <script>
        // Tab Navigation Logic
        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById(tab + '-tab').classList.remove('hidden');
            if(tab === 'analytics') loadChart();
        }

        // Backend Simulation Logic
        const terminal = document.getElementById('terminal');
        function log(msg, color = '#00ff00') {
            const time = new Date().toLocaleTimeString();
            terminal.innerHTML += `<div style="color: ${color}">[${time}] ${msg}</div>`;
            terminal.scrollTop = terminal.scrollHeight;
        }

        async function processApplication(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const cgpa = document.getElementById('cgpa').value;

            log(`>>> New Application received: ${name}`, '#fff');
            
            // AI Parser Simulation
            await wait(1000);
            log(`[AI-Parser] Extracting skills and academic data...`);
            log(`[AI-Parser] JSON Object created. Standardizing format...`);

            // RBI Compliance Engine Simulation
            await wait(1500);
            log(`[RBI-Compliance] Running "Fit and Proper" check...`, 'yellow');
            
            if (cgpa < 6.0) {
                log(`[CRITICAL] REJECTED_COMPLIANCE1: CGPA ${cgpa} below threshold.`, 'red');
                alert("Application does not meet RBI/Bank eligibility criteria.");
            } else {
                log(`[SUCCESS] Candidate passed preliminary screening.`, '#00ff00');
                log(`[Integration] Encrypting PII using AES-256 for local storage.`, '#00ff00');
                log(`[Communication] Sending slot-selection email to ${name}...`, 'cyan');
                
                // Update Recruiter Table
                const table = document.getElementById('candidateTable');
                const row = `<tr>
                    <td class="p-3">${name}</td>
                    <td class="p-3"><span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">Awaiting Slots</span></td>
                    <td class="p-3 text-xs text-blue-600 font-mono">KYC_PENDING_01</td>
                    <td class="p-3"><button class="text-bandhan-blue font-bold">Review</button></td>
                </tr>`;
                table.innerHTML += row;
                
                alert("Application Processed! Check the terminal log for backend steps.");
            }
        }

        function wait(ms) { return new Promise(res => setTimeout(res, ms)); }

        // Analytics Chart
        function loadChart() {
            const ctx = document.getElementById('funnelChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Applied', 'Shortlisted', 'Interviewed', 'Offered', 'Joined'],
                    datasets: [{
                        label: 'Candidates',
                        data: [10000, 2500, 800, 550, 480],
                        backgroundColor: '#00529b'
                    }]
                }
            });
        }
    </script>
</body>
</html>
